{"ast":null,"code":"var _jsxFileName = \"/Users/denismyachin/Downloads/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/online-store-master/front/src/components/modals/DeleteAlbum.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Dropdown, Modal } from \"react-bootstrap\";\nimport { deleteAlbum, fetchAlbums } from \"../../http/photoAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DeleteAlbum = ({\n  show,\n  onHide,\n  showSuccessMsgFunc\n}) => {\n  _s();\n\n  const [Album, setAlbum] = useState(\"Альбом\");\n  const [albums, setAlbums] = useState([]);\n  const [selectAlbum, setSelectAlbum] = useState({\n    name: \"Альбом не выбран\"\n  });\n  const [showMsgErr, setShowMsgErr] = useState(false);\n  const [msgErr, setMsgErr] = useState('');\n  useEffect(() => {\n    fetchAlbums().then(data => setAlbums(data));\n  }, []);\n\n  const Delete = async () => {\n    if (Album === \"Альбом\") {\n      if (selectAlbum.name !== \"Альбом не выбран\") {\n        await deleteAlbum(selectAlbum.id).then(data => {\n          showSuccessMsgFunc(data);\n          onHide();\n          setSelectAlbum({\n            name: \"Альбом не выбран\"\n          });\n        });\n      } else {\n        setMsgErr(\"Выберите альбом\");\n        setShowMsgErr(true);\n      }\n    }\n  };\n\n  useEffect(() => setShowMsgErr(false), [selectAlbum, Album]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    size: \"lg\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0430\\u043B\\u044C\\u0431\\u043E\\u043C\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [showMsgErr && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\",\n            textAlign: \"center\"\n          },\n          children: msgErr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this)\n      }, void 0, false), \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0430\\u043B\\u044C\\u0431\\u043E\\u043C \", Album === \"Альбом\", /*#__PURE__*/_jsxDEV(Dropdown, {\n        className: \"mb-3\",\n        style: {\n          margin: \"0 auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n          variant: \"success\",\n          id: \"dropdown-basic\",\n          children: Album\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n          children: [Album === \"Альбом\", albums.map(({\n            id,\n            name\n          }) => selectAlbum.name === name ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            disabled: true,\n            children: name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 61\n          }, this) : /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => setSelectAlbum({\n              id,\n              name\n            }),\n            children: name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 120\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-danger\",\n        onClick: onHide,\n        children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-success\",\n        onClick: Delete,\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DeleteAlbum, \"wGCQmmAM2jwpuEn8gBYzZxrRjgA=\");\n\n_c = DeleteAlbum;\nexport default DeleteAlbum;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteAlbum\");","map":{"version":3,"sources":["/Users/denismyachin/Downloads/проекты/online-store-master/front/src/components/modals/DeleteAlbum.js"],"names":["React","useEffect","useState","Button","Dropdown","Modal","deleteAlbum","fetchAlbums","DeleteAlbum","show","onHide","showSuccessMsgFunc","Album","setAlbum","albums","setAlbums","selectAlbum","setSelectAlbum","name","showMsgErr","setShowMsgErr","msgErr","setMsgErr","then","data","Delete","id","color","textAlign","margin","map"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Button, Dropdown, Modal} from \"react-bootstrap\";\nimport {deleteAlbum, fetchAlbums} from \"../../http/photoAPI\";\n\nconst DeleteAlbum = ({show, onHide, showSuccessMsgFunc}) => {\n   const [Album, setAlbum] = useState(\"Альбом\");\n   const [albums, setAlbums] = useState([]);\n   const [selectAlbum, setSelectAlbum] = useState({name: \"Альбом не выбран\"});\n   const [showMsgErr, setShowMsgErr] = useState(false);\n   const [msgErr, setMsgErr] = useState('');\n\n   useEffect(() => {\n        fetchAlbums().then(data => setAlbums(data));\n    }, []);\n\n    const Delete = async () => {\n        if(Album === \"Альбом\") {\n            if(selectAlbum.name !== \"Альбом не выбран\") {\n                await deleteAlbum(selectAlbum.id).then(data => {\n                    showSuccessMsgFunc(data);\n                    onHide();\n                    setSelectAlbum({name: \"Альбом не выбран\"});\n                });\n            } else {\n                setMsgErr(\"Выберите альбом\");\n                setShowMsgErr(true);\n            }\n        }\n    };\n\n   useEffect(() => setShowMsgErr(false), [selectAlbum, Album])\n\n    return (\n        <Modal\n            show={show}\n            onHide={onHide}\n            size=\"lg\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>\n                   Удаление альбома\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {showMsgErr &&\n                    <>\n                        <p style={{color: \"red\", textAlign: \"center\"}}>{msgErr}</p>\n                    </>\n                }\n\n                {/*Choose Category:*/}\n                {/*<Dropdown className=\"mb-3\" style={{margin: \"0 auto\"}}>*/}\n                {/*    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">*/}\n                {/*       {brandOrType}*/}\n                {/*    </Dropdown.Toggle>*/}\n\n                {/*    <Dropdown.Menu>*/}\n                {/*       {brandOrType === \"Тип\" ? <Dropdown.Item disabled>Type</Dropdown.Item> : <Dropdown.Item onClick={() => setBrandOrType(\"Тип\")}>Тип</Dropdown.Item>}*/}\n                {/*    </Dropdown.Menu>*/}\n                {/*</Dropdown>*/}\n\n                Выберите альбом {Album ===  \"Альбом\"}\n                {/*Choose item of {brandOrType === \"Brand\" ? \"Brand\" : \"Тип\"}*/}\n                <Dropdown className=\"mb-3\" style={{margin: \"0 auto\"}}>\n                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                        {Album}\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu>\n                        {Album === \"Альбом\"}\n                        {\n                            albums.map(({id, name}) =>\n                                selectAlbum.name === name ? <Dropdown.Item disabled  key={id}>{name}</Dropdown.Item> : <Dropdown.Item  key={id} onClick={() => setSelectAlbum({id, name})}>{name}</Dropdown.Item>\n                            )\n                        }\n\n                    </Dropdown.Menu>\n                </Dropdown>\n\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"outline-danger\" onClick={onHide}>Закрыть</Button>\n                <Button variant=\"outline-success\" onClick={Delete}>Удалить</Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default DeleteAlbum;\n"]},"metadata":{},"sourceType":"module"}